{"version":3,"file":"slv-contact.js","sources":["../node_modules/fl-assert/dist/assert.js","js/QuestionsNavigator.js","js/main.js"],"sourcesContent":["// Bug checking function that will throw an error whenever\n// the condition sent to it is evaluated to false\n/**\n * Processes the message and outputs the correct message if the condition\n * is false. Otherwise it outputs null.\n * @api private\n * @method processCondition\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return {String | null}  - Error message if there is an error, nul otherwise.\n */\nfunction processCondition(condition, errorMessage) {\n  if (!condition) {\n    var completeErrorMessage = '';\n    var re = /at ([^\\s]+)\\s\\(/g;\n    var stackTrace = new Error().stack;\n    var stackFunctions = [];\n\n    var funcName = re.exec(stackTrace);\n    while (funcName && funcName[1]) {\n      stackFunctions.push(funcName[1]);\n      funcName = re.exec(stackTrace);\n    }\n\n    // Number 0 is processCondition itself,\n    // Number 1 is assert,\n    // Number 2 is the caller function.\n    if (stackFunctions[2]) {\n      completeErrorMessage = stackFunctions[2] + ': ' + completeErrorMessage;\n    }\n\n    completeErrorMessage += errorMessage;\n    return completeErrorMessage;\n  }\n\n  return null;\n}\n\n/**\n * Throws an error if the boolean passed to it evaluates to false.\n * To be used like this:\n * \t\tassert(myDate !== undefined, \"Date cannot be undefined.\");\n * @api public\n * @method assert\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return void\n */\nfunction assert(condition, errorMessage) {\n  var error = processCondition(condition, errorMessage);\n  if (typeof error === 'string') {\n    throw new Error(error);\n  }\n}\n\n/**\n * Logs a warning if the boolean passed to it evaluates to false.\n * To be used like this:\n * \t\tassert.warn(myDate !== undefined, \"No date provided.\");\n * @api public\n * @method warn\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return void\n */\nassert.warn = function warn(condition, errorMessage) {\n  var error = processCondition(condition, errorMessage);\n  if (typeof error === 'string') {\n    console.warn(error);\n  }\n};\n\nexport default assert;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhc3NlcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQnVnIGNoZWNraW5nIGZ1bmN0aW9uIHRoYXQgd2lsbCB0aHJvdyBhbiBlcnJvciB3aGVuZXZlclxuLy8gdGhlIGNvbmRpdGlvbiBzZW50IHRvIGl0IGlzIGV2YWx1YXRlZCB0byBmYWxzZVxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIG1lc3NhZ2UgYW5kIG91dHB1dHMgdGhlIGNvcnJlY3QgbWVzc2FnZSBpZiB0aGUgY29uZGl0aW9uXG4gKiBpcyBmYWxzZS4gT3RoZXJ3aXNlIGl0IG91dHB1dHMgbnVsbC5cbiAqIEBhcGkgcHJpdmF0ZVxuICogQG1ldGhvZCBwcm9jZXNzQ29uZGl0aW9uXG4gKiBAcGFyYW0gIHtCb29sZWFufSBjb25kaXRpb24gLSBSZXN1bHQgb2YgdGhlIGV2YWx1YXRlZCBjb25kaXRpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gZXJyb3JNZXNzYWdlIC0gTWVzc2FnZSBleHBsYWluaWcgdGhlIGVycm9yIGluIGNhc2UgaXQgaXMgdGhyb3duXG4gKiBAcmV0dXJuIHtTdHJpbmcgfCBudWxsfSAgLSBFcnJvciBtZXNzYWdlIGlmIHRoZXJlIGlzIGFuIGVycm9yLCBudWwgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzQ29uZGl0aW9uKGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgbGV0IGNvbXBsZXRlRXJyb3JNZXNzYWdlID0gJyc7XG4gICAgY29uc3QgcmUgPSAvYXQgKFteXFxzXSspXFxzXFwoL2c7XG4gICAgY29uc3Qgc3RhY2tUcmFjZSA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgIGNvbnN0IHN0YWNrRnVuY3Rpb25zID0gW107XG5cbiAgICBsZXQgZnVuY05hbWUgPSByZS5leGVjKHN0YWNrVHJhY2UpO1xuICAgIHdoaWxlIChmdW5jTmFtZSAmJiBmdW5jTmFtZVsxXSkge1xuICAgICAgc3RhY2tGdW5jdGlvbnMucHVzaChmdW5jTmFtZVsxXSk7XG4gICAgICBmdW5jTmFtZSA9IHJlLmV4ZWMoc3RhY2tUcmFjZSk7XG4gICAgfVxuXG4gICAgLy8gTnVtYmVyIDAgaXMgcHJvY2Vzc0NvbmRpdGlvbiBpdHNlbGYsXG4gICAgLy8gTnVtYmVyIDEgaXMgYXNzZXJ0LFxuICAgIC8vIE51bWJlciAyIGlzIHRoZSBjYWxsZXIgZnVuY3Rpb24uXG4gICAgaWYgKHN0YWNrRnVuY3Rpb25zWzJdKSB7XG4gICAgICBjb21wbGV0ZUVycm9yTWVzc2FnZSA9IGAke3N0YWNrRnVuY3Rpb25zWzJdfTogJHtjb21wbGV0ZUVycm9yTWVzc2FnZX1gO1xuICAgIH1cblxuICAgIGNvbXBsZXRlRXJyb3JNZXNzYWdlICs9IGVycm9yTWVzc2FnZTtcbiAgICByZXR1cm4gY29tcGxldGVFcnJvck1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGJvb2xlYW4gcGFzc2VkIHRvIGl0IGV2YWx1YXRlcyB0byBmYWxzZS5cbiAqIFRvIGJlIHVzZWQgbGlrZSB0aGlzOlxuICogXHRcdGFzc2VydChteURhdGUgIT09IHVuZGVmaW5lZCwgXCJEYXRlIGNhbm5vdCBiZSB1bmRlZmluZWQuXCIpO1xuICogQGFwaSBwdWJsaWNcbiAqIEBtZXRob2QgYXNzZXJ0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBjb25kaXRpb24gLSBSZXN1bHQgb2YgdGhlIGV2YWx1YXRlZCBjb25kaXRpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gZXJyb3JNZXNzYWdlIC0gTWVzc2FnZSBleHBsYWluaWcgdGhlIGVycm9yIGluIGNhc2UgaXQgaXMgdGhyb3duXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gcHJvY2Vzc0NvbmRpdGlvbihjb25kaXRpb24sIGVycm9yTWVzc2FnZSk7XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIExvZ3MgYSB3YXJuaW5nIGlmIHRoZSBib29sZWFuIHBhc3NlZCB0byBpdCBldmFsdWF0ZXMgdG8gZmFsc2UuXG4gKiBUbyBiZSB1c2VkIGxpa2UgdGhpczpcbiAqIFx0XHRhc3NlcnQud2FybihteURhdGUgIT09IHVuZGVmaW5lZCwgXCJObyBkYXRlIHByb3ZpZGVkLlwiKTtcbiAqIEBhcGkgcHVibGljXG4gKiBAbWV0aG9kIHdhcm5cbiAqIEBwYXJhbSAge0Jvb2xlYW59IGNvbmRpdGlvbiAtIFJlc3VsdCBvZiB0aGUgZXZhbHVhdGVkIGNvbmRpdGlvblxuICogQHBhcmFtICB7U3RyaW5nfSBlcnJvck1lc3NhZ2UgLSBNZXNzYWdlIGV4cGxhaW5pZyB0aGUgZXJyb3IgaW4gY2FzZSBpdCBpcyB0aHJvd25cbiAqIEByZXR1cm4gdm9pZFxuICovXG5hc3NlcnQud2FybiA9IGZ1bmN0aW9uIHdhcm4oY29uZGl0aW9uLCBlcnJvck1lc3NhZ2UpIHtcbiAgY29uc3QgZXJyb3IgPSBwcm9jZXNzQ29uZGl0aW9uKGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKTtcbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3NlcnQ7XG4iXSwiZmlsZSI6ImFzc2VydC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n","import assert from 'fl-assert';\n\nexport default class QuestionsNavigator {\n  constructor(container, questionsClass) {\n    this.questionsClass = questionsClass;\n    this.activeClass = `${this.questionsClass}--active`;\n    this.container = container;\n    this.questions = Array.from(container.querySelectorAll(`.${questionsClass}`));\n    this.setActive(this.questions[2]);\n  }\n\n  getTop(el) {\n    return el.getBoundingClientRect().top;\n  }\n\n  setActive(question) {\n    const questionIndex = this.questions.findIndex(q => q === question);\n    assert(questionIndex !== -1, 'Question not found in questions array.');\n\n    this.questions.forEach(q => q.classList.remove(this.activeClass));\n    question.classList.add(this.activeClass);\n\n    this.scrollIntoView(question, this.container);\n  }\n\n  scrollIntoView(el, container) {\n    const end = this.getTop(el) - 10;\n    const diff = end - this.getTop(container);\n    const containerScrollBeforeChange = container.scrollTop;\n\n    const smoothedStepSize = Math.floor(diff / 5);\n    const stepSize = Math.sign(smoothedStepSize) * Math.max(1, Math.abs(smoothedStepSize));\n    container.scrollTop = container.scrollTop + stepSize;  // eslint-disable-line no-param-reassign\n\n    const elementInView = (containerScrollBeforeChange + stepSize) === end;\n    const cantScrollMore = containerScrollBeforeChange === container.scrollTop;\n\n    if (elementInView || cantScrollMore) { return; }\n    requestAnimationFrame(() => {\n      this.scrollIntoView(el, container);\n    });\n  }\n\n  getActiveQuestionIndex() {\n    const active = this.container.querySelector(`.${this.activeClass}`);\n    return this.questions.findIndex(q => q === active);\n  }\n\n  setNextQuestionActive() {\n    const activeIndex = this.getActiveQuestionIndex();\n    if (activeIndex === -1) {\n      this.setActive(this.questions[0]);\n    } else if (activeIndex === this.questions.length - 1) {\n      this.showSubmitButton();\n    } else {\n      this.setActive(this.questions[activeIndex + 1]);\n    }\n  }\n\n  setPreviousQuestionActive() {\n    const activeIndex = this.getActiveQuestionIndex();\n    if (activeIndex === -1) {\n      this.setActive(this.questions[0]);\n      return;\n    }\n    const newActiveIndex = Math.max(0, activeIndex - 1);\n    this.setActive(this.questions[newActiveIndex]);\n  }\n\n  showSubmitButton() {\n    console.log('Pretend submit button is showing.');\n  }\n}\n","/* globals xController */\nimport QuestionsNavigator from './QuestionsNavigator';\n\nxController((xdiv) => {\n  const questionsContainer = xdiv.querySelector('.slv-ContactForm-questionsContainer');\n  const qn = new QuestionsNavigator(questionsContainer, 'slv-ContactForm-question');\n\n  const nextBtn = xdiv.querySelector('.js-slv-nextQuestion');\n  nextBtn.addEventListener('click', () => qn.setNextQuestionActive());\n\n  const prevBtn = xdiv.querySelector('.js-slv-prevQuestion');\n  prevBtn.addEventListener('click', () => qn.setPreviousQuestionActive());\n\n  return qn;\n});\n"],"names":[],"mappings":"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","sourceRoot":"/source/"}